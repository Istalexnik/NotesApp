@page "/create-note"
@using NotesApp.Models
@inject NotesApp.Services.NoteService NoteService
@inject NavigationManager NavigationManager

<h3>Create New Note</h3>

<div class="form-group">
    <label>Title</label>
    <input @bind="newNote.Title" class="form-control" placeholder="Enter title" />
</div>
<div class="form-group">
    <label>Content</label>
    <textarea @bind="newNote.Content" class="form-control" placeholder="Enter content"></textarea>
</div>

<button @onclick="SaveNoteAsync" class="btn btn-primary">Save</button>
<button @onclick="NavigateBack" class="btn btn-secondary ml-2">Back</button>

@code {
    private Note newNote = new Note();

    private async Task SaveNoteAsync()
    {
        // Call the service to add a new note
        await NoteService.AddNoteAsync(newNote.Title, newNote.Content);

        // Navigate back to the notes list after saving
        NavigationManager.NavigateTo("/");
    }

    private void NavigateBack()
    {
        NavigationManager.NavigateTo("/");
    }
}
